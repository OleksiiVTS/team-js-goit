{"mappings":"YAAA,IAAMA,EAAmBC,SAASC,cAAc,YAC1CC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAcE,SAA/CC,EAAgBC,GACvB,IAAMC,EAAQC,OAAOF,EAAMG,cAAcC,OACzC,GAAKH,EAAL,CAKA,IAAMI,EAASX,EAAcW,QAAO,SAAAC,GAClC,OAAOA,EAAQC,OAAOC,MAAK,SAAAC,G,OAAQA,EAAKC,KAAOT,C,OAGjDU,QAAQC,IAAIP,GAEZQ,EAASR,E,MAVPQ,EAASnB,E,CAcI,SAARmB,EAASC,GAChB,IAAMC,EAayB,SAAbD,GAClB,OAAOA,EAAKE,QACV,SAACC,EAAKR,GACL,OAAOQ,EAKZ,SAA4BH,GAC1B,IACEI,EAMEJ,EANFI,YACAC,EAKEL,EALFK,eACAC,EAIEN,EAJFM,MACAC,EAGEP,EAHFO,aACAC,EAEER,EAFFQ,aACAZ,EACEI,EADFJ,GAGIa,EAAUT,EAAKP,OAAOiB,MAAM,EAAG,GAErC,MAAO,YAAoCC,OAAxBX,EAAK,qBAEWW,OAFQf,EAAG,oFAE4Ce,OAAvD,kCAAkCP,EAAY,WAI7EO,OAJsFN,EAAe,mIAQhGM,OAJLL,EAAM,iGAIwCK,OAAzCF,EAAQG,KAAI,SAAAC,G,OAAKA,EAAEC,I,IAAMC,KAAK,MAAM,OAIOJ,OAJFH,EAAaE,MAAM,EAAG,GAAG,0IAIMC,OAAH,GAA1BJ,EAAaS,QAAQ,GAAQ,yhB,CA/BjEC,CAAkBtB,E,GAC9B,G,CAjBUuB,CAAWlB,IAKP,SAAJA,GACVvB,IACFA,EAAiB0C,UAAY,GAC7B1C,EAAiB2C,mBAAmB,YAAapB,G,CAPnDqB,CAAOpB,E,CA9BiBqB,OAAnBC,iBAAiB,SAAS,SAACrC,GAChC,GAAsC,kBAAjCA,EAAMsC,KAAKC,SAASC,UACa,+BAAjCxC,EAAMsC,KAAKC,SAASC,SACvB,OAAOhD,SACJC,cAAc,mBACd4C,iBAAiB,QAAStC,E","sources":["src/js/js-vs/genres-library.js"],"sourcesContent":["const boxLibraryCinema = document.querySelector('.library');\nconst libraryCinema = JSON.parse(localStorage.getItem('libraryFilms'));\n\n// слухач події клік на селекторі \nwindow.addEventListener('click', (event) => {\n  if ( event.view.location.pathname === '/library.html' ||\n       event.view.location.pathname === '/team-js-goit/library.html') {\n    return document\n      .querySelector('.library-filter')\n      .addEventListener('input', onLibreryFilter);\n  }\n  return;\n});\n\n// отримуемо потрібний масив даних для розмітки і виводу на сторінку\nfunction onLibreryFilter(event) {\n  const genre = Number(event.currentTarget.value);\n  if (!genre){\n    onMarkup(libraryCinema)\n    return\n  }\n\n  const filter = libraryCinema.filter(element => {\n    return element.genres.some(item => item.id === genre);\n  });\n    \n  console.log(filter);\n  \n  onMarkup(filter);\n}\n\n// створення розмітки\nfunction onMarkup(data){\n  const cards = createCard(data)\n  update(cards)\n}\n\n// вивід даних на сторінку\nfunction update(data) {\n  if (boxLibraryCinema) {\n    boxLibraryCinema.innerHTML = '';\n    boxLibraryCinema.insertAdjacentHTML(\"beforeend\", data);\n  }\n}\n\n// обгортання елементу масиву хтмл-кодом\nfunction createCard(data){\n  return data.reduce(\n    (acc, item) => {\n     return acc + TemplateMovieCard(item)\n   }, \"\");\n}\n\n// шаблон\nfunction TemplateMovieCard( data ) {\n  const { \n    poster_path, \n    original_title, \n    title, \n    vote_average, \n    release_date, \n    id\n  } = data;\n\n  const aGenres = data.genres.slice(0, 2);\n\n  return `<a href=\"${data}\" data-id-movie=\"${id}\">\n  <div class=\"movie-card overlay-card\">\n  <img class=\"gallery__image\" src=\"${'https://image.tmdb.org/t/p/w400'+poster_path}\" alt=\"${original_title}\" loading=\"lazy\"/>\n  <div class=\"gallery__up_image\"></div>\n  <div class=\"catalog_info\">\n    <h2 class=\"catalog_title\">\n    ${title}\n    </h2>\n      <div class=\"ganres_rating\">\n        <p class=\"catalog_genres\">\n        $${aGenres.map(e => e.name).join(', ')} | ${release_date.slice(0, 4)}\n        </p>\n        <div class=\"rating\">\n        <div class=\"rating__body\">\n          <div class=\"rating__active\" style=\"width: ${vote_average.toFixed(1) * 10}%;\"></div>\n          <div class=\"rating__items\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"1\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"2\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"3\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"4\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"5\">\n          </div>\n        </div>\n      </div>\n      </div>\n  </div>\n  </div>\n  </a>`\n}\n\n"],"names":["$be55307d2d116361$var$boxLibraryCinema","document","querySelector","$be55307d2d116361$var$libraryCinema","JSON","parse","localStorage","getItem","$be55307d2d116361$var$onLibreryFilter","event","genre","Number","currentTarget","value","filter","element","genres","some","item","id","console","log","$be55307d2d116361$var$onMarkup","data","cards","reduce","acc","poster_path","original_title","title","vote_average","release_date","aGenres","slice","concat","map","e","name","join","toFixed","$be55307d2d116361$var$TemplateMovieCard","$be55307d2d116361$var$createCard","innerHTML","insertAdjacentHTML","$be55307d2d116361$var$update","window","addEventListener","view","location","pathname"],"version":3,"file":"library.b6049296.js.map"}