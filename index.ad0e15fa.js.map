{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAAMC,EAAiBC,SAASC,eAAe,oBACzCC,EAAcF,SAASC,eAAe,gBACtCE,EAAS,mC,SAEAC,I,OAAAC,EAAaC,MAAAC,KAAAC,U,UAAbH,I,OAAAA,EAAfI,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IACQC,EAGEC,EACEC,EACFC,E,yEALFH,EAAS,2DAAkEI,OAAPd,G,kBAGjDe,MAAML,G,cAAvBC,EAAQK,EAAAC,K,SACYN,EAASO,O,cAA7BN,EAASI,EAAAC,KAAPL,QACFC,EAAcD,EAAQO,KAAI,SAAAC,G,OAAKA,EAAFC,E,IACnCtB,EAAYuB,UAAUC,IAAI,a,kBAEnBV,G,kCAEPW,QAAQC,IAAI,uCAAsCT,EAAAU,I,2DAX1BvB,MAAAC,KAAAC,U,UAebsB,I,OAAAC,EAAazB,MAAAC,KAAAC,U,UAAbuB,I,OAAAA,EAAftB,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IACQI,EACAgB,EACAC,EACAC,E,kFAHoB9B,I,cAApBY,EAAWG,EAAAC,KACXY,EAAcG,KAAKC,MAAMD,KAAKE,SAAWrB,EAAYsB,QACrDL,EAAkBjB,EAAYgB,G,SACVO,EAAeN,G,cAAnCC,EAAWf,EAAAC,K,kBACVc,G,4CALmB5B,MAAAC,KAAAC,U,UAQb+B,EAAeC,G,OAAfC,EAAcnC,MAAAC,KAAAC,U,UAAdiC,I,OAAAA,EAAfhC,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,EAA8B4B,G,IACtB3B,EAGEC,EAOF4B,EALKC,EACOC,EACDC,EACEC,EACLC,EAENC,EACAC,E,yEAZFpC,EAAS,sCAA2DI,OAArBuB,EAAU,aAAkBvB,OAAPd,G,kBAGjDe,MAAML,G,cAAvBC,EAAQK,EAAAC,K,SAOJN,EAASO,O,cAAfqB,EAAqBvB,EAAAC,KALvBuB,EAKED,EALFQ,MACAN,EAIEF,EAJFS,aACAN,EAGEH,EAHFU,YACAN,EAEEJ,EAFFW,cACAN,EACEL,EADFK,SAEIC,EAAiB,mCAA+C/B,OAAZ4B,GACpDI,EAAsB,sCAAyDhC,OAAnB6B,G,kBAE3D,CACLI,MAAOP,EACPW,OAAQV,EACRW,QAASP,EACTQ,gBAAiBP,EACjBF,SAAUA,I,kCAGZpB,QAAQC,IAAI,uCAAsCT,EAAAU,I,2DAvBzBvB,MAAAC,KAAAC,U,UA2BdiD,I,OAAAA,EAAfhD,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IAEU8C,EACAC,EACFC,EAMEC,E,2FARa/B,I,OAAb4B,EAAIvC,EAAAC,KACJuC,EAAQD,EAAKX,SAASe,MAAM,KAC9BF,EAAoBD,EAAMI,MAAM,EAAG,IAAIC,KAAK,KAE5CL,EAAMrB,OAAS,KACjBsB,GAAqB,OAGjBC,EAAS,qKAOc5C,OAFpByC,EAAKF,gBAAgB,qFAGZvC,OADWyC,EAAKR,MAAM,+BAENjC,OADTyC,EAAKJ,OAAO,uCAG+CrC,OAFzD2C,EAAkB,6IAEoD3C,OAAbyC,EAAKH,QAAQ,iQAMjGxD,EAAekE,UAAYJ,E,kDAE3BlC,QAAQC,IAAI,WAAUT,EAAAU,I,2DA7BEvB,MAAAC,KAAAC,U,aAAbiD,EAAanD,MAAAC,KAAAC,U,CAiC5B0D,E","sources":["src/js/hero-homepage/hero-homepage.js"],"sourcesContent":["const heroRandomFilm = document.getElementById('hero-random-film');\nconst heroSection = document.getElementById('hero-section');\nconst apiKey = '9073999c285844087924fd0e24160fae';\n\nasync function fetchFilmData() {\n  const apiUrl = `https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const { results } = await response.json();\n    const filmIndexes = results.map(({ id }) => id);\n    heroSection.classList.add('hero-hide');\n\n    return filmIndexes;\n  } catch (error) {\n    console.log('Помилка при виконанні запиту до API:', error);\n  }\n}\n\nasync function getRandomFilm() {\n  const filmIndexes = await fetchFilmData();\n  const randomIndex = Math.floor(Math.random() * filmIndexes.length);\n  const randomFilmIndex = filmIndexes[randomIndex];\n  const filmDetails = await getFilmDetails(randomFilmIndex);\n  return filmDetails;\n}\n\nasync function getFilmDetails(filmIndex) {\n  const apiUrl = `https://api.themoviedb.org/3/movie/${filmIndex}?api_key=${apiKey}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const {\n      title: filmTitle,\n      vote_average: filmRating,\n      trailer_key: filmTrailer,\n      backdrop_path: filmBackgroundPath,\n      overview: overview,\n    } = await response.json();\n    const filmTrailerUrl = `https://www.youtube.com/watch?v=${filmTrailer}`;\n    const filmBackgroundImage = `https://image.tmdb.org/t/p/original${filmBackgroundPath}`;\n\n    return {\n      title: filmTitle,\n      rating: filmRating,\n      trailer: filmTrailerUrl,\n      backgroundImage: filmBackgroundImage,\n      overview: overview,\n    };\n  } catch (error) {\n    console.log('Помилка при виконанні запиту до API:', error);\n  }\n}\n\nasync function createFilmBox() {\n  try {\n    const film = await getRandomFilm();\n    const words = film.overview.split(' ');\n    let truncatedOverview = words.slice(0, 30).join(' ');\n\n    if (words.length > 30) {\n      truncatedOverview += '...';\n    }\n\n    const markup = `\n    <section class=\"hero-movie\" style=\"background-image: linear-gradient(\n      86.77deg,\n      #111111 30.38%,\n      rgba(17, 17, 17, 0) 65.61%\n    ), url(${film.backgroundImage})\";>\n    <div class=\"container hero-container\">\n        <h1 class=\"hero-title\">${film.title}</h1>\n        <p>Рейтинг: ${film.rating}</p>\n        <p class=\"hero-text\">${truncatedOverview}</p>\n        <div class=\"hero-homepage-buttons\">\n        <button type=\"button\" class=\"button-watch-trailer\"><a class=\"hero-href\" href=\"${film.trailer}\" target=\"_blank\">Watch trailer</a></button>\n        <button type=\"button\" class=\"button-more-details\"><a class=\"hero-href\" id=\"more-details-button\" target=\"_blank\">More Details</a></button>\n              </div>\n        </div>\n      </section>\n    `;\n    heroRandomFilm.innerHTML = markup;\n  } catch (error) {\n    console.log('Помилка:', error);\n  }\n}\n\ncreateFilmBox();\n"],"names":["$bpxeT","parcelRequire","$9bcabb25731c3ee1$var$heroRandomFilm","document","getElementById","$9bcabb25731c3ee1$var$heroSection","$9bcabb25731c3ee1$var$apiKey","$9bcabb25731c3ee1$var$fetchFilmData","$9bcabb25731c3ee1$var$_fetchFilmData","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","apiUrl","response","results","filmIndexes","concat","fetch","_ctx","sent","json","map","param","id","classList","add","console","log","t0","$9bcabb25731c3ee1$var$getRandomFilm","$9bcabb25731c3ee1$var$_getRandomFilm","randomIndex","randomFilmIndex","filmDetails","Math","floor","random","length","$9bcabb25731c3ee1$var$getFilmDetails","filmIndex","$9bcabb25731c3ee1$var$_getFilmDetails","ref","filmTitle","filmRating","filmTrailer","filmBackgroundPath","overview","filmTrailerUrl","filmBackgroundImage","title","vote_average","trailer_key","backdrop_path","rating","trailer","backgroundImage","$9bcabb25731c3ee1$var$_createFilmBox","film","words","truncatedOverview","markup","split","slice","join","innerHTML","$9bcabb25731c3ee1$var$createFilmBox"],"version":3,"file":"index.ad0e15fa.js.map"}