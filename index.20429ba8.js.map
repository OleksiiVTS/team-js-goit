{"mappings":"AAAA,MAAMA,EAAiBC,SAASC,eAAe,oBACzCC,EAAcF,SAASC,eAAe,gBAkB5CE,eAAeC,IACb,MAAMC,QAhBRF,iBAGE,IACE,MAAMG,QAAiBC,MAHV,6FAIPC,QAAEA,SAAkBF,EAASG,OAC7BJ,EAAcG,EAAQE,KAAI,EAACC,GAAEA,KAASA,IAG5C,OAFAT,EAAYU,UAAUC,IAAI,aAEnBR,C,CACP,MAAOS,GACPC,QAAQC,IAAI,uCAAmEF,E,EAKvDG,GAEpBC,EAAkBb,EADJc,KAAKC,MAAMD,KAAKE,SAAWhB,EAAYiB,SAG3D,aAGFnB,eAA8BoB,GAC5B,MAAMC,EAAS,sCAAsCD,6CAErD,IACE,MAAMjB,QAAiBC,MAAMiB,IAE3BC,MAAOC,EACPC,aAAcC,EACdC,YAAaC,EACbC,cAAeC,EACfC,SAAUA,SACF3B,EAASG,OACbyB,EAAiB,mCAAmCJ,IAG1D,MAAO,CACLL,MAAOC,EACPS,OAAQP,EACRQ,QAASF,EACTG,gBAN0B,sCAAsCL,IAOhEC,SAAUA,E,CAEZ,MAAOnB,GACPC,QAAQC,IAAI,uCAAmEF,E,EA3BvDwB,CAAepB,E,EA+B3Cf,iBACE,IACE,MAAMoC,QAAanC,IACboC,EAAQD,EAAKN,SAASQ,MAAM,KAClC,IAAIC,EAAoBF,EAAMG,MAAM,EAAG,IAAIC,KAAK,KAE5CJ,EAAMlB,OAAS,KACjBoB,GAAqB,OAGvB,MAAMG,EAAS,qKAKNN,EAAKF,mGAEeE,EAAKd,mC,EAClBU,4CACWO,6IAEyDH,EAAKH,uQAMzFrC,EAAe+C,UAAYD,C,CAC3B,MAAO/B,GACPC,QAAQC,IAAI,WAAYF,E,EAI5BiC","sources":["src/js/hero-homepage/hero-homepage.js"],"sourcesContent":["const heroRandomFilm = document.getElementById('hero-random-film');\nconst heroSection = document.getElementById('hero-section');\nconst apiKey = '9073999c285844087924fd0e24160fae';\n\nasync function fetchFilmData() {\n  const apiUrl = `https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const { results } = await response.json();\n    const filmIndexes = results.map(({ id }) => id);\n    heroSection.classList.add('hero-hide');\n\n    return filmIndexes;\n  } catch (error) {\n    console.log('Помилка при виконанні запиту до API:', error);\n  }\n}\n\nasync function getRandomFilm() {\n  const filmIndexes = await fetchFilmData();\n  const randomIndex = Math.floor(Math.random() * filmIndexes.length);\n  const randomFilmIndex = filmIndexes[randomIndex];\n  const filmDetails = await getFilmDetails(randomFilmIndex);\n  return filmDetails;\n}\n\nasync function getFilmDetails(filmIndex) {\n  const apiUrl = `https://api.themoviedb.org/3/movie/${filmIndex}?api_key=${apiKey}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const {\n      title: filmTitle,\n      vote_average: filmRating,\n      trailer_key: filmTrailer,\n      backdrop_path: filmBackgroundPath,\n      overview: overview,\n    } = await response.json();\n    const filmTrailerUrl = `https://www.youtube.com/watch?v=${filmTrailer}`;\n    const filmBackgroundImage = `https://image.tmdb.org/t/p/original${filmBackgroundPath}`;\n\n    return {\n      title: filmTitle,\n      rating: filmRating,\n      trailer: filmTrailerUrl,\n      backgroundImage: filmBackgroundImage,\n      overview: overview,\n    };\n  } catch (error) {\n    console.log('Помилка при виконанні запиту до API:', error);\n  }\n}\n\nasync function createFilmBox() {\n  try {\n    const film = await getRandomFilm();\n    const words = film.overview.split(' ');\n    let truncatedOverview = words.slice(0, 30).join(' ');\n\n    if (words.length > 30) {\n      truncatedOverview += '...';\n    }\n\n    const markup = `\n    <section class=\"hero-movie\" style=\"background-image: linear-gradient(\n      86.77deg,\n      #111111 30.38%,\n      rgba(17, 17, 17, 0) 65.61%\n    ), url(${film.backgroundImage})\";>\n    <div class=\"container hero-container\">\n        <h1 class=\"hero-title\">${film.title}</h1>\n        <p>Рейтинг: ${film.rating}</p>\n        <p class=\"hero-text\">${truncatedOverview}</p>\n        <div class=\"hero-homepage-buttons\">\n        <button type=\"button\" class=\"button-watch-trailer\"><a class=\"hero-href\" href=\"${film.trailer}\" target=\"_blank\">Watch trailer</a></button>\n        <button type=\"button\" class=\"button-more-details\"><a class=\"hero-href\" id=\"more-details-button\" target=\"_blank\">More Details</a></button>\n              </div>\n        </div>\n      </section>\n    `;\n    heroRandomFilm.innerHTML = markup;\n  } catch (error) {\n    console.log('Помилка:', error);\n  }\n}\n\ncreateFilmBox();\n"],"names":["$675cca1e6dc735c6$var$heroRandomFilm","document","getElementById","$675cca1e6dc735c6$var$heroSection","async","$675cca1e6dc735c6$var$getRandomFilm","filmIndexes","response","fetch","results","json","map","id","classList","add","error","console","log","$675cca1e6dc735c6$var$fetchFilmData","randomFilmIndex","Math","floor","random","length","filmIndex","apiUrl","title","filmTitle","vote_average","filmRating","trailer_key","filmTrailer","backdrop_path","filmBackgroundPath","overview","filmTrailerUrl","rating","trailer","backgroundImage","$675cca1e6dc735c6$var$getFilmDetails","film","words","split","truncatedOverview","slice","join","markup","innerHTML","$675cca1e6dc735c6$var$createFilmBox"],"version":3,"file":"index.20429ba8.js.map"}