{"mappings":"AA2D8D,SAAnDA,IACP,MAAMC,EAAYC,SAASC,cAAc,sBACnCC,EAAYF,SAASC,cAAc,kBAAkBE,IACrDC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQ,kBAAoB,GAEzE,GAA8B,sBAA1BT,EAAUU,YACZV,EAAUU,YAAc,yBACxBL,EAAaM,KAAKR,OACb,CACLH,EAAUU,YAAc,oBACxB,MAAME,EAAYP,EAAaQ,QAAQV,GACnCS,GAAY,GACdP,EAAaS,OAAOF,EAAW,E,CAInCJ,aAAaO,QAAQ,eAAgBT,KAAKU,UAAUX,G,EA1E5BY,iBAIxB,IACE,MAAMC,QAAiBC,MAHV,mFAKb,aADuBD,EAASE,M,CAEhC,MAAOC,GACPC,QAAQC,IAAI,uCAAmEF,E,GAqE1BG,GAAzCC,MAAMC,IACpBJ,QAAQC,IAAI,4BAA6BG,GAjEH,SAAhBC,GACtB,MAAMC,EAAgB3B,SAASC,cAAc,uBAE7C,GAAa,OAATyB,EAAe,CAEqB,MAAhCE,EAAc,sKAMpBD,EAAcE,UAAYD,C,KACrB,CAEiC,MAAhCE,EAAW,8FAEmCJ,EAAKK,uBAAuBL,EAAKM,yKAGfN,EAAKO,2JAGLP,EAAKQ,kBAAkBR,EAAKS,uJAG9BT,EAAKU,kJAGVV,EAAKW,OAAOC,KAAIC,GAASA,EAAMC,OAAMC,KAAK,uJAOzGd,EAAcE,UAAYC,EAGR9B,SAASC,cAAc,sBAC/ByC,iBAAiB,QAAS5C,E,EA2BtC6C,CAAelB,EAAS","sources":["src/js/index-up-th-mon.js"],"sourcesContent":["// Функция для выполнения запроса к API\nasync function fetchFilmData() {\n    const apiKey = \"9073999c285844087924fd0e24160fae\";\n    const apiUrl = `https://api.themoviedb.org/3/movie/550?api_key=${apiKey}`;\n  \n    try {\n      const response = await fetch(apiUrl);\n      const filmData = await response.json();\n      return filmData;\n    } catch (error) {\n      console.log(\"Ошибка при выполнении запроса к API:\", error);\n    }\n  }\n  \n  // Функция для создания HTML разметки карточки фильма\n  function createFilmCard(film) {\n    const cardContainer = document.querySelector(\".upcoming_film_card\");\n  \n    if (film === null) {\n      // Если фильмы не найдены, отображаем сообщение\n      const messageHTML = `\n        <div class=\"no-films-message\">\n          <img src=\"ссылка_на_картинку\" alt=\"No films found\" />\n          <p>No films found.</p>\n        </div>\n      `;\n      cardContainer.innerHTML = messageHTML;\n    } else {\n      // Если фильмы найдены, создаем карточку фильма\n      const cardHTML = `\n        <div class=\"film-card\">\n          <img src=\"https://image.tmdb.org/t/p/original/${film.backdrop_path}\" alt=\"${film.original_title}\" />\n          <div class=\"film-info\">\n            <div class=\"info-item\">\n              <span class=\"type\">Release Date:</span> <span class=\"value\">${film.release_date}</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"type\">Vote / Votes:</span> <span class=\"value\">${film.vote_average} / ${film.vote_count}</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"type\">Popularity:</span> <span class=\"value\">${film.popularity}</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"type\">Genre:</span> <span class=\"value\">${film.genres.map(genre => genre.name).join(\", \")}</span>\n            </div>\n            <button class=\"upcoming_film_add\">Add to My Library</button>\n          </div>\n        </div>\n      `;\n  \n      cardContainer.innerHTML = cardHTML;\n  \n      // Добавляем обработчик события для кнопки после создания разметки\n      const addButton = document.querySelector(\".upcoming_film_add\");\n      addButton.addEventListener(\"click\", toggleLibraryFilm);\n    }\n  }\n  \n  // Функция для обработки нажатия на кнопку добавления/удаления фильма из My Library\n  function toggleLibraryFilm() {\n    const addButton = document.querySelector(\".upcoming_film_add\");\n    const filmTitle = document.querySelector(\".film-card img\").alt;\n    const libraryFilms = JSON.parse(localStorage.getItem(\"libraryFilms\")) || [];\n  \n    if (addButton.textContent === \"Add to My Library\") {\n      addButton.textContent = \"Remove from My Library\";\n      libraryFilms.push(filmTitle);\n    } else {\n      addButton.textContent = \"Add to My Library\";\n      const filmIndex = libraryFilms.indexOf(filmTitle);\n      if (filmIndex > -1) {\n        libraryFilms.splice(filmIndex, 1);\n      }\n    }\n  \n    localStorage.setItem(\"libraryFilms\", JSON.stringify(libraryFilms));\n  }\n  \n  // Вызываем функцию для получения данных о фильме и создания карточки\n  fetchFilmData().then((filmData) => {\n    console.log(\"Получены данные о фильме:\", filmData);\n    createFilmCard(filmData);\n  });\n  "],"names":["$14bb12ef0a914142$var$toggleLibraryFilm","addButton","document","querySelector","filmTitle","alt","libraryFilms","JSON","parse","localStorage","getItem","textContent","push","filmIndex","indexOf","splice","setItem","stringify","async","response","fetch","json","error","console","log","$14bb12ef0a914142$var$fetchFilmData","then","filmData","film","cardContainer","messageHTML","innerHTML","cardHTML","backdrop_path","original_title","release_date","vote_average","vote_count","popularity","genres","map","genre","name","join","addEventListener","$14bb12ef0a914142$var$createFilmCard"],"version":3,"file":"index.6391eb3a.js.map"}