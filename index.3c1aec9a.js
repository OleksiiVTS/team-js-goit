!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequire480d;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){a[e]=n},n.parcelRequire480d=r);var s,o=r("bpxeT"),i=r("2TvXO"),c=document.getElementById("hero-random-film"),d=document.getElementById("hero-section"),l="9073999c285844087924fd0e24160fae";function u(){return p.apply(this,arguments)}function p(){return(p=e(o)(e(i).mark((function n(){var t,a,r,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(l),e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent.results,s=r.map((function(e){return e.id})),d.classList.add("hero-hide"),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(1),console.log("Помилка при виконанні запиту до API:",e.t0);case 16:case"end":return e.stop()}}),n,null,[[1,13]])})))).apply(this,arguments)}function v(){return m.apply(this,arguments)}function m(){return(m=e(o)(e(i).mark((function n(){var t,a,r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return t=e.sent,a=Math.floor(Math.random()*t.length),s=t[a],e.next=7,f(s);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=e(o)(e(i).mark((function n(t){var a,r,s,o,c,d,u,p,v,m,f,g,h,w,y;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(l),e.prev=1,e.next=4,fetch(a);case 4:return r=e.sent,e.next=7,r.json();case 7:return s=e.sent,o=s.title,c=s.vote_average,d=s.trailer_key,u=s.backdrop_path,p=s.overview,v=s.vote_average,m=s.vote_count,f=s.release_date,g=s.popularity,h=s.genres,w="https://www.youtube.com/watch?v=".concat(d),y="https://image.tmdb.org/t/p/original".concat(u),e.abrupt("return",{title:o,rating:c,trailer:w,backgroundImage:y,overview:p,vote_average:v,vote_count:m,release_date:f,popularity:g,genres:h});case 23:e.prev=23,e.t0=e.catch(1),console.log("Error occurred while making API request:",e.t0);case 26:case"end":return e.stop()}}),n,null,[[1,23]])})))).apply(this,arguments)}window.addEventListener("DOMContentLoaded",e(o)(e(i).mark((function n(){var t,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,s=void 0,o=void 0,i=void 0,d=void 0,l=void 0,s=(r=t).title,o=r.rating,i=r.backgroundImage,d=r.overview.split(" "),l=d.slice(0,30).join(" "),d.length>30&&(l+="..."),a='\n    <section class="hero-movie" style="background-image: linear-gradient(\n      86.77deg,\n      #111111 30.38%,\n      rgba(17, 17, 17, 0) 65.61%\n    ), url('.concat(i,')";>\n      <div class="container hero-container">\n        <h1 class="hero-title">').concat(s,"</h1>\n        <p>Рейтинг: ").concat(o,'</p>\n        <p class="hero-text">').concat(l,'</p>\n        <div class="hero-homepage-buttons">\n          <button id="watchTrailerButton" class="button-watch-trailer">Watch trailer</button>\n          <button id="moreDetailsButton" class="button-more-details">More Details</button>\n        </div>\n      </div>\n    </section>\n  '),n=a,c.insertAdjacentHTML("afterbegin",n),document.getElementById("watchTrailerButton").addEventListener("click",w),document.getElementById("moreDetailsButton").addEventListener("click",_);case 9:case"end":return e.stop()}var n,r,s,o,i,d,l}),n)}))));var h=document.getElementById("myModal");function w(){h.classList.toggle("m-w-t-is-hidden"),document.addEventListener("keydown",b),window.addEventListener("click",k)}function y(){h.classList.toggle("m-w-t-is-hidden"),document.removeEventListener("keydown",b),window.removeEventListener("click",k)}function b(e){"Escape"===e.key&&y()}function k(e){e.target===h&&y()}document.getElementById("closeModal").addEventListener("click",y);var E=document.getElementById("moreDetails");function L(e){var n=e.title,t=e.backgroundImage,a=e.overview,r=e.vote_average,s=e.vote_count,o=e.release_date,i=e.popularity,c=e.genres;return'\n    <div class="film-card">\n      <img src="https://image.tmdb.org/t/p/original/'.concat(t,'" alt="').concat(n,'" />\n      <div class="film-info">\n        <div class="info-item">\n          <h2 class="film-title">').concat(n,'</h2>\n        </div>\n\n        <div class="container-features">\n          <div class="column-struct">\n            <div class="date-vote">\n              <div class="info-item">\n                <span class="release">Release Date:</span> <span class="release-value release-date">').concat(o,'</span>\n              </div>\n              <div class="info-item">\n                <span class="vote">Vote / Votes:</span>\n                <span class="vote-value">\n                  <span class="vote-average">').concat(r,'</span> /\n                  <span class="vote-count">').concat(s,'</span>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class="column-struct">\n            <div class="popularity-genre">\n              <div class="info-item">\n                <span class="popularity">Popularity:</span> <span class="popularity-value">').concat(i,'</span>\n              </div>\n              <div class="info-item genre-item">\n                <span class="genre">Genre:</span> <span class="genre-value">').concat(c.map((function(e){return e.name})).join(", "),'</span>\n              </div>\n            </div>\n          </div>\n          <div class="description-item">\n            <span class="description-about">About:</span> <span class="about-value">').concat(a,'</span>\n          </div>\n        </div>\n        <button class="button-rem-me">Add to My Library</button>\n      </div>\n    </div>')}function x(e){D(),E.insertAdjacentHTML("afterbegin",e)}function _(){return I.apply(this,arguments)}function I(){return(I=e(o)(e(i).mark((function n(){var t;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.classList.toggle("m-w-t-is-hidden"),document.addEventListener("keydown",M),window.addEventListener("click",T),e.next=5,f(s);case 5:t=e.sent,x(L(t));case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function B(){E.classList.toggle("m-w-t-is-hidden"),document.removeEventListener("keydown",M),window.removeEventListener("click",T),detailsOpened=!1,D()}function M(e){"Escape"===e.key&&B()}function T(e){e.target===E&&B()}function D(){E.innerHTML=""}document.getElementById("closeDetails").addEventListener("click",B),L()}();
//# sourceMappingURL=index.3c1aec9a.js.map
