{"mappings":"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","sources":["src/js/hero-homepage/hero-homepage.js"],"sourcesContent":["const heroRandomFilm = document.getElementById('hero-random-film');\nconst heroSection = document.getElementById('hero-section');\nconst apiKey = '9073999c285844087924fd0e24160fae';\nlet randomFilmIndex;\n\nasync function fetchFilmData() {\n  const apiUrl = `https://api.themoviedb.org/3/trending/movie/day?api_key=${apiKey}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const { results } = await response.json();\n    const filmIndexes = results.map(({ id }) => id);\n    heroSection.classList.add('hero-hide');\n\n    return filmIndexes;\n  } catch (error) {\n    console.log('Помилка при виконанні запиту до API:', error);\n  }\n}\n\nasync function getRandomFilm() {\n  const filmIndexes = await fetchFilmData();\n  const randomIndex = Math.floor(Math.random() * filmIndexes.length);\n  randomFilmIndex = filmIndexes[randomIndex];\n  const filmDetails = await getFilmDetails(randomFilmIndex);\n  return filmDetails;\n}\n\nasync function getFilmDetails(filmIndex) {\n  const apiUrl = `https://api.themoviedb.org/3/movie/${filmIndex}?api_key=${apiKey}`;\n\n  try {\n    const response = await fetch(apiUrl);\n    const {\n      title: filmTitle,\n      vote_average: filmRating,\n      trailer_key: filmTrailer,\n      backdrop_path: filmBackgroundPath,\n      overview,\n      vote_average,\n      vote_count,\n      release_date,\n      popularity,\n      genres,\n    } = await response.json();\n    const filmTrailerUrl = `https://www.youtube.com/watch?v=${filmTrailer}`;\n    const filmBackgroundImage = `https://image.tmdb.org/t/p/original${filmBackgroundPath}`;\n\n    return {\n      title: filmTitle,\n      rating: filmRating,\n      trailer: filmTrailerUrl,\n      backgroundImage: filmBackgroundImage,\n      overview,\n      vote_average,\n      vote_count,\n      release_date,\n      popularity,\n      genres,\n    };\n  } catch (error) {\n    console.log('Error occurred while making API request:', error);\n  }\n}\n\nfunction createFilmBox({ title, rating, backgroundImage, overview }) {\n  const words = overview.split(' ');\n  let truncatedOverview = words.slice(0, 30).join(' ');\n\n  if (words.length > 30) {\n    truncatedOverview += '...';\n  }\n\n  return `\n    <section class=\"hero-movie\" style=\"background-image: linear-gradient(\n      86.77deg,\n      #111111 30.38%,\n      rgba(17, 17, 17, 0) 65.61%\n    ), url(${backgroundImage})\";>\n      <div class=\"container hero-container\">\n        <h1 class=\"hero-title\">${title}</h1>\n        <p>Рейтинг: ${rating}</p>\n        <p class=\"hero-text\">${truncatedOverview}</p>\n        <div class=\"hero-homepage-buttons\">\n          <button id=\"watchTrailerButton\" class=\"button-watch-trailer\">Watch trailer</button>\n          <button id=\"moreDetailsButton\" class=\"button-more-details\">More Details</button>\n        </div>\n      </div>\n    </section>\n  `;\n}\n\nfunction createHTML(markup) {\n  heroRandomFilm.insertAdjacentHTML('afterbegin', markup);\n}\n\nwindow.addEventListener('DOMContentLoaded', async () => {\n  const filmDetails = await getRandomFilm();\n  const filmBoxHTML = createFilmBox(filmDetails);\n  createHTML(filmBoxHTML);\n\n  const watchTrailerButton = document.getElementById('watchTrailerButton');\n  watchTrailerButton.addEventListener('click', openModal);\n\n  const watchDetailsButton = document.getElementById('moreDetailsButton');\n  watchDetailsButton.addEventListener('click', openDetails);\n});\n\nconst modalHero = document.getElementById('myModal');\nconst closeTrailerButton = document.getElementById('closeModal');\ncloseTrailerButton.addEventListener('click', closeModal);\n\nfunction openModal() {\n  modalHero.classList.toggle('m-w-t-is-hidden');\n  document.addEventListener('keydown', escapeHandler);\n  window.addEventListener('click', outsideClickHandler);\n}\n\nfunction closeModal() {\n  modalHero.classList.toggle('m-w-t-is-hidden');\n  document.removeEventListener('keydown', escapeHandler);\n  window.removeEventListener('click', outsideClickHandler);\n}\n\nfunction escapeHandler(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction outsideClickHandler(event) {\n  if (event.target === modalHero) {\n    closeModal();\n  }\n}\n\n// modal for More details\nconst modalDetails = document.getElementById('moreDetails');\nconst closeDetailsButton = document.getElementById('closeDetails');\n\ncloseDetailsButton.addEventListener('click', closeDetails);\n\nfunction createDetailsBox({\n  title,\n  backgroundImage,\n  overview,\n  vote_average,\n  vote_count,\n  release_date,\n  popularity,\n  genres,\n}) {\n  return `\n    <div class=\"film-card\">\n      <img src=\"https://image.tmdb.org/t/p/original/${backgroundImage}\" alt=\"${title}\" />\n      <div class=\"film-info\">\n        <div class=\"info-item\">\n          <h2 class=\"film-title\">${title}</h2>\n        </div>\n\n        <div class=\"container-features\">\n          <div class=\"column-struct\">\n            <div class=\"date-vote\">\n              <div class=\"info-item\">\n                <span class=\"release\">Release Date:</span> <span class=\"release-value release-date\">${release_date}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"vote\">Vote / Votes:</span>\n                <span class=\"vote-value\">\n                  <span class=\"vote-average\">${vote_average}</span> /\n                  <span class=\"vote-count\">${vote_count}</span>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class=\"column-struct\">\n            <div class=\"popularity-genre\">\n              <div class=\"info-item\">\n                <span class=\"popularity\">Popularity:</span> <span class=\"popularity-value\">${popularity}</span>\n              </div>\n              <div class=\"info-item genre-item\">\n                <span class=\"genre\">Genre:</span> <span class=\"genre-value\">${genres\n                  .map(genre => genre.name)\n                  .join(', ')}</span>\n              </div>\n            </div>\n          </div>\n          <div class=\"description-item\">\n            <span class=\"description-about\">About:</span> <span class=\"about-value\">${overview}</span>\n          </div>\n        </div>\n        <button class=\"button-rem-me\">Add to My Library</button>\n      </div>\n    </div>`;\n}\n\ncreateDetailsBox();\n\nfunction createMoreDetails(markup) {\n  clearDetailsBox();\n  modalDetails.insertAdjacentHTML('afterbegin', markup);\n}\n\nasync function openDetails() {\n  modalDetails.classList.toggle('m-w-t-is-hidden');\n  document.addEventListener('keydown', escapeHandlerDetails);\n  window.addEventListener('click', outsideClickHandlerDetails);\n\n  const filmDetails = await getFilmDetails(randomFilmIndex);\n\n  const detailsBoxHTML = createDetailsBox(filmDetails);\n  createMoreDetails(detailsBoxHTML);\n}\n\nfunction closeDetails() {\n  modalDetails.classList.toggle('m-w-t-is-hidden');\n  document.removeEventListener('keydown', escapeHandlerDetails);\n  window.removeEventListener('click', outsideClickHandlerDetails);\n  detailsOpened = false;\n  clearDetailsBox();\n}\n\nfunction escapeHandlerDetails(event) {\n  if (event.key === 'Escape') {\n    closeDetails();\n  }\n}\n\nfunction outsideClickHandlerDetails(event) {\n  if (event.target === modalDetails) {\n    closeDetails();\n  }\n}\n\nfunction clearDetailsBox() {\n  modalDetails.innerHTML = '';\n}\n"],"names":["$9bcabb25731c3ee1$var$randomFilmIndex","$bpxeT","parcelRequire","$9bcabb25731c3ee1$var$heroRandomFilm","document","getElementById","$9bcabb25731c3ee1$var$heroSection","$9bcabb25731c3ee1$var$apiKey","$9bcabb25731c3ee1$var$fetchFilmData","$9bcabb25731c3ee1$var$_fetchFilmData","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","apiUrl","response","results","filmIndexes","concat","fetch","_ctx","sent","json","map","param","id","classList","add","console","log","t0","$9bcabb25731c3ee1$var$getRandomFilm","$9bcabb25731c3ee1$var$_getRandomFilm","randomIndex","filmDetails","Math","floor","random","length","$9bcabb25731c3ee1$var$getFilmDetails","filmIndex","$9bcabb25731c3ee1$var$_getFilmDetails","ref","filmTitle","filmRating","filmTrailer","filmBackgroundPath","overview","vote_average","vote_count","release_date","popularity","genres","filmTrailerUrl","filmBackgroundImage","title","trailer_key","backdrop_path","rating","trailer","backgroundImage","window","addEventListener","filmBoxHTML","words","truncatedOverview","split","slice","join","markup","insertAdjacentHTML","$9bcabb25731c3ee1$var$openModal","$9bcabb25731c3ee1$var$openDetails","$9bcabb25731c3ee1$var$modalHero","toggle","$9bcabb25731c3ee1$var$escapeHandler","$9bcabb25731c3ee1$var$outsideClickHandler","$9bcabb25731c3ee1$var$closeModal","removeEventListener","event","key","target","$9bcabb25731c3ee1$var$modalDetails","$9bcabb25731c3ee1$var$createDetailsBox","genre","name","$9bcabb25731c3ee1$var$createMoreDetails","$9bcabb25731c3ee1$var$clearDetailsBox","$9bcabb25731c3ee1$var$_openDetails","$9bcabb25731c3ee1$var$escapeHandlerDetails","$9bcabb25731c3ee1$var$outsideClickHandlerDetails","$9bcabb25731c3ee1$var$closeDetails","detailsOpened","innerHTML"],"version":3,"file":"index.3c1aec9a.js.map"}