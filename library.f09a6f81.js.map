{"mappings":"AAAA,MAAMA,EAAmBC,SAASC,cAAc,YAC1CC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAcE,SAA/CC,EAAgBC,GACvB,MAAMC,EAAQC,OAAOF,EAAMG,cAAcC,OACzC,IAAKH,EAEH,YADAI,EAASX,GAIX,MAAMY,EAASZ,EAAcY,QAAOC,GAC3BA,EAAQC,OAAOC,MAAKC,GAAQA,EAAKC,KAAOV,MAGjDW,QAAQC,IAAIP,GAEZD,EAASC,E,CAIM,SAARD,EAASS,GAChB,MAAMC,EAayB,SAAbD,GAClB,OAAOA,EAAKE,QACV,CAACC,EAAKP,IACEO,EAKZ,SAA4BH,GAC1B,MAAMI,YACJA,EAAWC,eACXA,EAAcC,MACdA,EAAKC,aACLA,EAAYC,aACZA,EAAYX,GACZA,GACEG,EAEES,EAAUT,EAAKN,OAAOgB,MAAM,EAAG,GAErC,MAAO,YAAYV,qBAAwBH,oFAER,kCAAkCO,WAAqBC,mIAItFC,iGAIKG,EAAQE,KAAIC,GAAKA,EAAEC,OAAMC,KAAK,WAAWN,EAAaE,MAAM,EAAG,2IAIM,GAA1BH,EAAaQ,QAAQ,0hB,CA/BzDC,CAAkBpB,IAC9B,G,CAjBUqB,CAAWjB,IAKP,SAAJA,GACVvB,IACFA,EAAiByC,UAAY,GAC7BzC,EAAiB0C,mBAAmB,YAAanB,G,CAPnDoB,CAAOnB,E,CA9BiBoB,OAAnBC,iBAAiB,SAAUpC,IAChC,GAAsC,kBAAjCA,EAAMqC,KAAKC,SAASC,UACa,+BAAjCvC,EAAMqC,KAAKC,SAASC,SACvB,OAAO/C,SACJC,cAAc,mBACd2C,iBAAiB,QAASrC,EAE/B","sources":["src/js/js-vs/genres-library.js"],"sourcesContent":["const boxLibraryCinema = document.querySelector('.library');\nconst libraryCinema = JSON.parse(localStorage.getItem('libraryFilms'));\n\n// слухач події клік на селекторі \nwindow.addEventListener('click', (event) => {\n  if ( event.view.location.pathname === '/library.html' ||\n       event.view.location.pathname === '/team-js-goit/library.html') {\n    return document\n      .querySelector('.library-filter')\n      .addEventListener('input', onLibreryFilter);\n  }\n  return;\n});\n\n// отримуемо потрібний масив даних для розмітки і виводу на сторінку\nfunction onLibreryFilter(event) {\n  const genre = Number(event.currentTarget.value);\n  if (!genre){\n    onMarkup(libraryCinema)\n    return\n  }\n\n  const filter = libraryCinema.filter(element => {\n    return element.genres.some(item => item.id === genre);\n  });\n    \n  console.log(filter);\n  \n  onMarkup(filter);\n}\n\n// створення розмітки\nfunction onMarkup(data){\n  const cards = createCard(data)\n  update(cards)\n}\n\n// вивід даних на сторінку\nfunction update(data) {\n  if (boxLibraryCinema) {\n    boxLibraryCinema.innerHTML = '';\n    boxLibraryCinema.insertAdjacentHTML(\"beforeend\", data);\n  }\n}\n\n// обгортання елементу масиву хтмл-кодом\nfunction createCard(data){\n  return data.reduce(\n    (acc, item) => {\n     return acc + TemplateMovieCard(item)\n   }, \"\");\n}\n\n// шаблон\nfunction TemplateMovieCard( data ) {\n  const { \n    poster_path, \n    original_title, \n    title, \n    vote_average, \n    release_date, \n    id\n  } = data;\n\n  const aGenres = data.genres.slice(0, 2);\n\n  return `<a href=\"${data}\" data-id-movie=\"${id}\">\n  <div class=\"movie-card overlay-card\">\n  <img class=\"gallery__image\" src=\"${'https://image.tmdb.org/t/p/w400'+poster_path}\" alt=\"${original_title}\" loading=\"lazy\"/>\n  <div class=\"gallery__up_image\"></div>\n  <div class=\"catalog_info\">\n    <h2 class=\"catalog_title\">\n    ${title}\n    </h2>\n      <div class=\"ganres_rating\">\n        <p class=\"catalog_genres\">\n        $${aGenres.map(e => e.name).join(', ')} | ${release_date.slice(0, 4)}\n        </p>\n        <div class=\"rating\">\n        <div class=\"rating__body\">\n          <div class=\"rating__active\" style=\"width: ${vote_average.toFixed(1) * 10}%;\"></div>\n          <div class=\"rating__items\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"1\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"2\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"3\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"4\">\n            <input type=\"radio\" class=\"rating__item\" name=\"rating\" value=\"5\">\n          </div>\n        </div>\n      </div>\n      </div>\n  </div>\n  </div>\n  </a>`\n}\n\n"],"names":["$41d9bd8ee51c5d62$var$boxLibraryCinema","document","querySelector","$41d9bd8ee51c5d62$var$libraryCinema","JSON","parse","localStorage","getItem","$41d9bd8ee51c5d62$var$onLibreryFilter","event","genre","Number","currentTarget","value","$41d9bd8ee51c5d62$var$onMarkup","filter","element","genres","some","item","id","console","log","data","cards","reduce","acc","poster_path","original_title","title","vote_average","release_date","aGenres","slice","map","e","name","join","toFixed","$41d9bd8ee51c5d62$var$TemplateMovieCard","$41d9bd8ee51c5d62$var$createCard","innerHTML","insertAdjacentHTML","$41d9bd8ee51c5d62$var$update","window","addEventListener","view","location","pathname"],"version":3,"file":"library.f09a6f81.js.map"}