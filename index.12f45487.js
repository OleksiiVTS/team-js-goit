const e=document.getElementById("hero-random-film"),t=document.getElementById("hero-section");let n;async function a(){const e=await async function(){try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=9073999c285844087924fd0e24160fae"),{results:n}=await e.json(),a=n.map((({id:e})=>e));return t.classList.add("hero-hide"),a}catch(e){console.log("Помилка при виконанні запиту до API:",e)}}(),a=Math.floor(Math.random()*e.length);n=e[a];return await s(n)}async function s(e){const t=`https://api.themoviedb.org/3/movie/${e}?api_key=9073999c285844087924fd0e24160fae`;try{const e=await fetch(t),{title:n,vote_average:a,trailer_key:s,backdrop_path:i,overview:o,vote_average:c,vote_count:r,release_date:d,popularity:l,genres:v}=await e.json(),u=`https://www.youtube.com/watch?v=${s}`;return{title:n,rating:a,trailer:u,backgroundImage:`https://image.tmdb.org/t/p/original${i}`,overview:o,vote_average:c,vote_count:r,release_date:d,popularity:l,genres:v}}catch(e){console.log("Error occurred while making API request:",e)}}window.addEventListener("DOMContentLoaded",(async()=>{const t=function({title:e,rating:t,backgroundImage:n,overview:a}){const s=a.split(" ");let i=s.slice(0,30).join(" ");return s.length>30&&(i+="..."),`\n    <section class="hero-movie" style="background-image: linear-gradient(\n      86.77deg,\n      #111111 30.38%,\n      rgba(17, 17, 17, 0) 65.61%\n    ), url(${n})";>\n      <div class="container hero-container">\n        <h1 class="hero-title">${e}</h1>\n        <p>Рейтинг: ${t}</p>\n        <p class="hero-text">${i}</p>\n        <div class="hero-homepage-buttons">\n          <button id="watchTrailerButton" class="button-watch-trailer">Watch trailer</button>\n          <button id="moreDetailsButton" class="button-more-details">More Details</button>\n        </div>\n      </div>\n    </section>\n  `}(await a());var n;n=t,e.insertAdjacentHTML("afterbegin",n);document.getElementById("watchTrailerButton").addEventListener("click",o);document.getElementById("moreDetailsButton").addEventListener("click",u)}));const i=document.getElementById("myModal");function o(){i.classList.toggle("m-w-t-is-hidden"),document.addEventListener("keydown",r),window.addEventListener("click",d)}function c(){i.classList.toggle("m-w-t-is-hidden"),document.removeEventListener("keydown",r),window.removeEventListener("click",d)}function r(e){"Escape"===e.key&&c()}function d(e){e.target===i&&c()}document.getElementById("closeModal").addEventListener("click",c);const l=document.getElementById("moreDetails");function v({title:e,backgroundImage:t,overview:n,vote_average:a,vote_count:s,release_date:i,popularity:o,genres:c}){return`\n    <div class="film-card">\n      <img src="https://image.tmdb.org/t/p/original/${t}" alt="${e}" />\n      <div class="film-info">\n        <div class="info-item">\n          <h2 class="film-title">${e}</h2>\n        </div>\n\n        <div class="container-features">\n          <div class="column-struct">\n            <div class="date-vote">\n              <div class="info-item">\n                <span class="release">Release Date:</span> <span class="release-value release-date">${i}</span>\n              </div>\n              <div class="info-item">\n                <span class="vote">Vote / Votes:</span>\n                <span class="vote-value">\n                  <span class="vote-average">${a}</span> /\n                  <span class="vote-count">${s}</span>\n                </span>\n              </div>\n            </div>\n          </div>\n          <div class="column-struct">\n            <div class="popularity-genre">\n              <div class="info-item">\n                <span class="popularity">Popularity:</span> <span class="popularity-value">${o}</span>\n              </div>\n              <div class="info-item genre-item">\n                <span class="genre">Genre:</span> <span class="genre-value">${c.map((e=>e.name)).join(", ")}</span>\n              </div>\n            </div>\n          </div>\n          <div class="description-item">\n            <span class="description-about">About:</span> <span class="about-value">${n}</span>\n          </div>\n        </div>\n        <button class="button-rem-me">Add to My Library</button>\n      </div>\n    </div>`}async function u(){l.classList.toggle("m-w-t-is-hidden"),document.addEventListener("keydown",p),window.addEventListener("click",g);const e=v(await s(n));var t;t=e,h(),l.insertAdjacentHTML("afterbegin",t)}function m(){l.classList.toggle("m-w-t-is-hidden"),document.removeEventListener("keydown",p),window.removeEventListener("click",g),detailsOpened=!1,h()}function p(e){"Escape"===e.key&&m()}function g(e){e.target===l&&m()}function h(){l.innerHTML=""}document.getElementById("closeDetails").addEventListener("click",m),v();
//# sourceMappingURL=index.12f45487.js.map
